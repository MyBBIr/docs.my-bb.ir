---
layout: page
title:  "بروزرسانی"
categories: [install]
---

## آماده‌شدن برای بروزرسانی

قبل از اینکه بروزرسانی کنید، شما همیشه باید اطلاعیه‌ای که در بلاگ مای بی‌بی قرار گرفته را به خوبی بخوانید. تا تغییرات نسخه به خوبی برایتان آشکار شود و مقدار سختی بروزرسانی برایتان روشن شود.

1. نخست، شما باید انجمن خود را ببندید. انجام این کار به این دلیل است که هیچ کس فرایند بروزرسانی را به صورت تصادفی قطع نکند. لطفا انجمن خود را از طریق تنظیمات **حاضر/غایت بودن انجمن** و قرار دادن تنظیم بر روی  **خیر** ببندید. 
 بهترین روش استفاده از `.htaccess` برای بستن انجمن و اجازه ندادن به کسی برای دسترسی به ناحیه کاربری انجمن است. آموزش‌های متعددی وجود دارد که به شما در انجام این کار کمک می‌کند و ممکن است ابزارهایی در برخی از هاست‌ها برای اینکار موجود باشد.

2. در مرحله‌ی دوم، شما باید پشتیبانی از فایل‌ها و دیتابیس‌تان بگیرید و در جای امنی نگه‌داری کنید. فقط برای اینکه اگر چیز اشتباهی اتفاق افتاد، شما بتوانید پشتیبانتان را بازگردانی کنید و دوباره از نخست شروع کنید.
شما می‌توانید از طریق [کنترل پنل مای بی‌بی یا ابزار مدیریت پایگاه داده هاستتان](../../administration/backups) از پایگاه داده پشتیبان بگیرید.

3. شما باید همه‌ی پلاگین‌هایتان را غیرفعال کنید. این عمر به این دلیل است که پلاگین‌ها ممکن است نیاز به تغییراتی در نسخه‌ی جدید داشته باشند و فعال بودنشان مشکلاتی را بعد از بروزرسانی به وجود آورد.

### دانلود کردن بسته‌ی بروزرسانی صحیح

دو روش برای بروزرسانی انجمنتان وجود دارد: بروزرسانی کامل و بروزرسانی موارد تغییر یافته.

#### بروزرسانی کامل

اگر نسخه‌ی کنونی شما بیش‌از یک نسخه از آخرین نسخه فرق داشت، شما باید یک بروزرسانی کامل انجام دهید. برای مثال، اگر شما از نسخه‌ی ۱.۶.۱ استفاده می‌کنید و جدیدترین نسخه ۱.۶.۴ باشد، شما نیاز به انجام یک بروزرسانی کامل دارید. همچنین اگر شما از نسخه‌ی ۱.۶.× استفاده می‌کنید و می‌خواهید به نسخه‌ی ۱.۸.× ارتقا دهید، بازهم باید از بروزرسانی کامل استفاده کنید.

[دریافت آخرین نسخه](http://my-bb.ir/download/).

#### بروزرسانی موارد تغییریافته

اگر نسخه‌ی شما تنها یک نسخه با جدیدترین نسخه اختلاف داشته باشد - برای مثال، اگر از نسخه‌ی ۱.۶.۳ استفاده می‌کنید و آخرین نسخه ۱.۶.۴ باشد - شما می‌توانید از بروزرسانی موارد تغییریافته استفاده کنید. این بسته در نوشته‌ی بلاگ موجود است. اگر بسته‌ی موارد تغییریافته موجود نباشد، باید از بسته‌ی کامل آخرین نسخه استفاده شود.

## شروع یک بروزرسانی

هنگامی که شما بسته‌ی درست بروزرسانی را دانلود کردید، زمان انجام بروزرانی است. لطفا موارد زیر را با دقت دنبال کنید.

1. آپلود **همه‌ی** فایل‌ها و پوشه‌ها از بسته (همه‌ی فایل‌های داخل پوشه‌ی `Upload/` اگر از بسته‌ی کامل استفاده می‌کنید)، شامل پوشه `install/` (اگر موجود است)، جایگزینی فایل‌های کپی‌شده با فایل‌های سیستم شما.

2. اگر در اطلاعیه بلاگ اشاره شده بود که اجرای فرایند بروزرسانی لازم **است**، موارد زیر را دنبال کنید:

	1. صفحه‌ی نخست انجمن خود را باز کنید و یک `/install/` به آخر URL آن اضافه کنید. برای مثال `www.yourdomain.com/install/` یا `www.yourdomain.com/forum/install/`.

	2. این ممکن است که از شما درخواست کند تا فایل `lock` را حذف کنید. از یک مدیریت کننده‌ی فایل استفاده کرده و فایل  `install/lock` را حذف کنید.

	3. شما باید یک منوی کشویی برای انتخاب نسخه‌ی کنونی خود ببینید. به یاد داشته باشید که حتما نسخه‌ی درست را انتخاب کنید - نسخه‌ای که هم‌اکنون از آن استفاده می‌کنید - درغیراینصورت بروزرسانی به درستی انجام نمی‌شود.

	4. دستورالعمل‌ها برای اجرای بروزرسانی را دنبال کنید.

	5. بعد از اینکه بروزرسانی پایان یافت، بررسی کنید که فایل `lock` در پوشه‌ی `install/` ایجاد شده باشد. اگر وجود نداشت، خودتان این فایل را ایجاد کنید یا پوشه‌ی `install/` را از سرور خود حذف کنید. برای امنیت بیشتر، دسترسی فایل `inc/config.php` را برروی ۶۴۴ قرار دهید، اگر می‌توانید دستور اجرا کنید از دستور `chmod 644 inc/config.php` استفاده کنید.

3. اگر در نوشته‌ی بلاگ اشاره شده بود که قالب‌ها تغییر کرده اند:

	1. در مسیر **کنترل پنل مدیریت > قالب‌ها و پوسته‌ها > قالب‌ها > یافتن قالب‌های بروزرسانی شده** بروید. این به شما لیستی از قالب‌هایی که در بروزرسانی نیاز به بروزرسانی دارند را به شما نشان خواهد داد.

	2. شما می‌توانید این قالب‌ها را به نسخه‌ی اصلی بازگردانی کنید - این به این معنی است که همه‌ی تغییراتی که شما ایجاد کرده‌اید از بین خواهد رفت - یا شما می‌توانید **گزارش تغییرات** که به شما تغییراتی که ایجاد شده‌است نشان می‌دهد، استفاده کنید. اگر شما از قالب سفارشی استفاده می کنید، نگاه کردن به تغییرات ایجاد شده در گزارش تغییرات و اعمال تغییرات مورد نیاز است.

4. فرایند بروزرسانی باید پایان یافته باشد! شما نیاز است انجمن خود را دوباره باز کنید، برای اینکار اگر از `.htaccess` برای بستن انجمن استفاده کرده‌اید، کدهای `.htaccess` را حذف کنید و اگر از تنظیمات استفاده کرده‌اید، ازطریق تنظیمات انجمن خود را باز کنید. قبل از انجام اینکار، بررسی کنید که انجمنتان سالم است و همان‌طور که قبلا کار می‌کرد، کار کند! لطفا عجله نکنید.

## پایان

اگر شما مشکلی در هر قسمت از فرایند بروزرسانی دارید، [انجمن مای بی‌بی](http://my-bb.ir/) را برای راهنمایی بازدید کنید.

درغیراین‌صورت، *تبریک می‌گوییم*! شما انجمن خود را بروزرسانی کرده‌اید!
